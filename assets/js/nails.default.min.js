var console,NAILS_JS;void 0===console&&(console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}});NAILS_JS=function(){var o=this;return o.__construct=function(){o.initSystemAlerts(),o.initTipsy(),o.initFancybox(),o.initConfirm(),o.initTabs(),o.initForms(),o.initDatePickers()},o.initSystemAlerts=function(){var t,a,i;$.fn.scrollTo?(t=$("div.field.error:visible"),(a=t.length?$(t.get(0)):(i=$("div.system-alert.error:visible"),$(i.get(0)))).length&&setTimeout(function(){$.scrollTo(a,"fast",{axis:"y",offset:{top:-60}})},750)):o.log("NAILS_JS: scrollTo not available.")},o.initTipsy=function(){$.fn.tipsy?($("*[rel=tipsy]:not(.drunk)").tipsy({opacity:.85}).addClass("drunk"),$("*[rel=tipsy-html]:not(.drunk)").tipsy({opacity:.85,html:!0}).addClass("drunk"),$("*[rel=tipsy-right]:not(.drunk)").tipsy({opacity:.85,gravity:"w"}).addClass("drunk"),$("*[rel=tipsy-left]:not(.drunk)").tipsy({opacity:.85,gravity:"e"}).addClass("drunk"),$("*[rel=tipsy-top]:not(.drunk)").tipsy({opacity:.85,gravity:"s"}).addClass("drunk"),$("*[rel=tipsy-bottom]:not(.drunk)").tipsy({opacity:.85,gravity:"n"}).addClass("drunk")):o.log("NAILS_JS: Tipsy not available.")},o.initFancybox=function(){$.fn.fancybox?$(document).on("click",".fancybox",function(t){t.preventDefault(),t.stopPropagation();var a=$(this).attr("href"),i="iframe";"#"!==a.substr(0,1)?(new RegExp("^.+.(jpg|png|gif)(\\?.*)?$").test(a)&&(i=null),/\?/g.test(a)?a+="&":a+="?",a+="isModal=true"):i=null;var e=$(this).data("height"),n=$(this).data("width");return $.fancybox.open({href:a,height:e,width:n,type:i,helpers:{overlay:{locked:!1}},beforeLoad:function(){$("body").addClass("noScroll modal-open")},afterClose:function(){$("body").removeClass("noScroll modal-open")}}),!1}):o.log("NAILS_JS: Fancybox not available.")},o.initConfirm=function(){var t,a,i;$(document).on("click","a.confirm",function(){return t=$(this),(a=t.data("body")||"Please confirm you'd like to continue with this action.").replace(/\\n/g,"\n"),i=t.data("title")||"Are you sure?",!a.length||($("<div>").html(a).dialog({title:i,resizable:!1,draggable:!1,modal:!0,dialogClass:"no-close",buttons:{OK:function(){window.location.href=t.attr("href")},Cancel:function(){$(this).dialog("close")}}}),!1)})},o.initTabs=function(){$(document).on("click","ul.tabs:not(.disabled) li.tab a",function(){return $(this).hasClass("disabled")||o.switchToTab($(this)),!1}),$("li.tab a").each(function(){$(".tab-page."+$(this).data("tab")+" div.field.error").length&&$(this).addClass("error"),$(".tab-page."+$(this).data("tab")+" .system-alert.error").length&&$(this).addClass("error"),$(".tab-page."+$(this).data("tab")+" .alert.alert-danger").length&&$(this).addClass("error"),$(".tab-page."+$(this).data("tab")+" .error.show-in-tabs").length&&$(this).addClass("error")}),$("ul.tabs").filter('[data-active-tab-input][data-active-tab-input!=""]').each(function(){var t=$($(this).data("active-tab-input"));t.length&&t.val()&&$(this).find('.tab a[data-tab="'+t.val()+'"]').click()})},o.switchToTab=function(t){var a=t.data("tab"),i=t.parents("ul.tabs").data("tabgroup"),e=t.parents("ul.tabs").data("active-tab-input");if(i)$('ul.tabs[data-tabgroup="'+i+'"] > li.tab').removeClass("active"),$('ul.tabs[data-tabgroup="'+i+'"] > li.tab > a[data-tab="'+a+'"]').parent().addClass("active"),$('section.tabs[data-tabgroup="'+i+'"] > div.tab-page').removeClass("active"),$('section.tabs[data-tabgroup="'+i+'"] > div.tab-page.'+a).addClass("active");else{$("li.tab").removeClass("active"),t.parent().addClass("active"),$("section.tabs > div.tab-page").removeClass("active");var n=t.attr("data-tab");$("section.tabs > div.tab-page."+n).addClass("active")}e&&$(e).val(a),o.addStripes()},o.initForms=function(){o.addStripes(),o.processPrefixedInputs()},o.initDatePickers=function(){$.fn.datepicker?$("input.date").each(function(){var t=$(this).data("datepicker-dateformat")||"yy-mm-dd",a=$(this).data("datepicker-yearrange")||"c-100:c+10";$(this).datepicker({dateFormat:t,changeMonth:!0,changeYear:!0,yearRange:a})}):o.error("NAILS_JS: datepicker not available."),$.fn.datetimepicker?($("input.datetime").each(function(){var t=$(this).data("datepicker-dateformat")||"yy-mm-dd",a=$(this).data("datepicker-timeformat")||"HH:mm:ss",i=$(this).data("datepicker-yearrange")||"c-100:c+10";$(this).datetimepicker({dateFormat:t,timeFormat:a,changeMonth:!0,changeYear:!0,yearRange:i})}),$("input.time").each(function(){var t=$(this).data("datepicker-timeformat")||"HH:mm";$(this).datetimepicker({timeOnly:!0,timeFormat:t})})):o.log("NAILS_JS: datetimepicker not available.")},o.addStripes=function(){$("fieldset,.fieldset").each(function(){$("div.field",this).removeClass("odd even"),$("div.field:visible:odd",this).addClass("odd"),$("div.field:visible:even",this).addClass("even")})},o.processPrefixedInputs=function(){$("input[data-prefix]:not(.nails-prefixed)").each(function(){var t=$("<div>").addClass("nails-prefixed").css("width",$(this).css("width")),a=$("<div>").addClass("nails-prefix").html($(this).data("prefix"));t.append(a),$(this).clone(!0).addClass("nails-prefixed").appendTo(t),$(this).replaceWith(t)})},o.log=function(t){window.console&&"PRODUCTION"!==window.ENVIRONMENT&&console.log(t)},o.error=function(t){window.console&&"PRODUCTION"!==window.ENVIRONMENT&&console.error(t)},o.warn=function(t){window.console&&"PRODUCTION"!==window.ENVIRONMENT&&console.warn(t)},o.__construct()};
//# sourceMappingURL=nails.default.min.js.map

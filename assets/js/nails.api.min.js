var NAILS_API;NAILS_API=function(){return this._api_base=window.SITE_URL+"api/",this._csrf_cookie="nailscsrftoken",this._csrf_token="nailscsrftest",this.__construct=function(){$.cookie||this.warn("NAILS_API: Cookie plugin not available. CSRF may fail (if enabled).")},this.set_base=function(o){this._api_base=o},this.call=function(o,i,t,n,e,s,r){var c={};if("object"==typeof o){if(void 0===(c=o).controller)throw new Error("Controller not defined");if(void 0===c.method)throw new Error("Method not defined");void 0===c.data&&(c.data={}),void 0===c.success&&(c.success=function(){}),void 0===c.error&&(c.error=function(){}),void 0===c.action&&(c.action="GET"),void 0===c.async&&(c.async=!0)}else c.controller=void 0===o?"":o,c.method=void 0===i?"":i,c.data=void 0===t?{}:t,c.success=void 0===n?function(){}:n,c.error=void 0===e?function(){}:e,c.action=void 0===s?"GET":s,c.async=void 0===r||r;if("POST"===c.action&&$.cookie){var a=$.cookie(this._csrf_cookie);if("string"==typeof a&&0<a.length){var d={};d[this._csrf_token]=a,c.data=$.extend({},c.data,d)}}$.ajax({url:this._api_base+c.controller+"/"+c.method,data:c.data,dataType:"json",success:c.success,error:c.error,type:c.action,async:c.async})},this.error=function(o){window.console&&"PRODUCTION"!==window.ENVIRONMENT&&console.error(o)},this.warn=function(o){window.console&&"PRODUCTION"!==window.ENVIRONMENT&&console.warn(o)},this.__construct()};
//# sourceMappingURL=nails.api.min.js.map

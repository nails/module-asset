var NAILS_API=function(){return this._api_base=window.SITE_URL+"api/",this._csrf_cookie="nailscsrftoken",this._csrf_token="nailscsrftest",this.__construct=function(){$.cookie||this.warn("NAILS_API: Cookie plugin not available. CSRF may fail (if enabled).")},this.set_base=function(o){this._api_base=o},this.call=function(o,i,t,n,e,s,c){var r={};if("object"==typeof o){if(void 0===(r=o).controller)throw new Error("Controller not defined");if(void 0===r.method)throw new Error("Method not defined");void 0===r.data&&(r.data={}),void 0===r.success&&(r.success=function(){}),void 0===r.error&&(r.error=function(){}),void 0===r.action&&(r.action="GET"),void 0===r.async&&(r.async=!0)}else r.controller=void 0===o?"":o,r.method=void 0===i?"":i,r.data=void 0===t?{}:t,r.success=void 0===n?function(){}:n,r.error=void 0===e?function(){}:e,r.action=void 0===s?"GET":s,r.async=void 0===c||c;"POST"===r.action&&(!$.cookie||"string"==typeof(s=$.cookie(this._csrf_cookie))&&0<s.length&&((c={})[this._csrf_token]=s,r.data=$.extend({},r.data,c))),$.ajax({url:this._api_base+r.controller+"/"+r.method,data:r.data,dataType:"json",success:r.success,error:r.error,type:r.action,async:r.async})},this.error=function(o){window.console&&"PRODUCTION"!==window.ENVIRONMENT&&console.error(o)},this.warn=function(o){window.console&&"PRODUCTION"!==window.ENVIRONMENT&&console.warn(o)},this.__construct()};
//# sourceMappingURL=nails.api.min.js.map

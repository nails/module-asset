var NAILS_API;NAILS_API=function(){return this._api_base=window.SITE_URL+"api/",this._csrf_cookie="nailscsrftoken",this._csrf_token="nailscsrftest",this.__construct=function(){$.cookie||this.warn("NAILS_API: Cookie plugin not available. CSRF may fail (if enabled).")},this.set_base=function(e){this._api_base=e},this.call=function(e,n,o,t,i,s,r){var f={};if("object"==typeof e){if(f=e,"undefined"==typeof f.controller)throw new Error("Controller not defined");if("undefined"==typeof f.method)throw new Error("Method not defined");"undefined"==typeof f.data&&(f.data={}),"undefined"==typeof f.success&&(f.success=function(){}),"undefined"==typeof f.error&&(f.error=function(){}),"undefined"==typeof f.action&&(f.action="GET"),"undefined"==typeof f.async&&(f.async=!0)}else f.controller="undefined"==typeof e?"":e,f.method="undefined"==typeof n?"":n,f.data="undefined"==typeof o?{}:o,f.success="undefined"==typeof t?function(){}:t,f.error="undefined"==typeof i?function(){}:i,f.action="undefined"==typeof s?"GET":s,f.async="undefined"==typeof r?!0:r;if("POST"===f.action&&$.cookie){var c=$.cookie(this._csrf_cookie);if("string"==typeof c&&c.length>0){var a={};a[this._csrf_token]=c,f.data=$.extend({},f.data,a)}}$.ajax({url:this._api_base+f.controller+"/"+f.method,data:f.data,dataType:"json",success:f.success,error:f.error,type:f.action,async:f.async})},this.error=function(e){window.console&&"PRODUCTION"!==window.ENVIRONMENT&&console.error(e)},this.warn=function(e){window.console&&"PRODUCTION"!==window.ENVIRONMENT&&console.warn(e)},this.__construct()};
//# sourceMappingURL=./nails.api.min.js.map
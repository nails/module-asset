var NAILS_Forms;NAILS_Forms=function(){return this.__construct=function(){this._init_form_field_mm(),this._init_form_field_mm_image(),this._init_form_field_multiimage()},this._init_form_field_mm=function(){$(document).on("click",".field.mm-file a.mm-file-choose",function(){var e,i,m;return e=$(this).attr("href"),e+=e.indexOf("?")>=0?"&isModal=1":"?isModal=1",$.fancybox.isOpen&&"iframe"!==$.fancybox.opts.type&&(e+="&reopenModal="+encodeURIComponent($.fancybox.opts.href),$.fancybox.close()),i=$(this).data("width")?$(this).data("width"):null,m=$(this).data("height")?$(this).data("height"):null,$.fancybox.open({href:e,type:"iframe",width:i,height:m,iframe:{preload:!1}}),!1}),$(document).on("click",".field.mm-file a.mm-file-remove",function(){return $(this).closest(".field.mm-file").find(".mm-file-preview").html(""),$(this).closest(".field.mm-file").find(".mm-file-value").val(""),$(this).closest(".field.mm-file").find(".mm-file-remove").css("display","none"),!1})},this._callback_form_field_mm=function(e,i,m,t,a){if(0===i.length)return $("#"+a+" .mm-file-preview").html(""),$("#"+a+" .mm-file-value").val(""),$("#"+a+" .mm-file-remove").css("display","none"),void(t.length&&$.fancybox.open({href:t}));var l=$("#"+a).data("scheme"),n=i.split(".");l=l.replace("{[bucket]}",e),l=l.replace("{[filename]}",n[0]),l=l.replace("{[extension]}","."+n[1]),$("#"+a+" .mm-file-preview").html('<a href="'+l+'">Download</a>'),$("#"+a+" .mm-file-value").val(m),$("#"+a+" .mm-file-remove").css("display","inline-block"),t.length&&$.fancybox.open({href:t})},this._init_form_field_mm_image=function(){$(document).on("click",".field.mm-image a.mm-image-choose",function(){var e,i,m;return e=$(this).attr("href"),e+=e.indexOf("?")>=0?"&isModal=1":"?isModal=1",$.fancybox.isOpen&&"iframe"!==$.fancybox.opts.type&&(e+="&reopenModal="+encodeURIComponent($.fancybox.opts.href),$.fancybox.close()),i=$(this).data("width")?$(this).data("width"):null,m=$(this).data("height")?$(this).data("height"):null,$.fancybox.open({href:e,type:"iframe",width:i,height:m,iframe:{preload:!1}}),!1}),$(document).on("click",".field.mm-image a.mm-image-remove",function(){return $(this).closest(".field.mm-image").find(".mm-image-preview").html(""),$(this).closest(".field.mm-image").find(".mm-image-value").val(""),$(this).closest(".field.mm-image").find(".mm-image-remove").css("display","none"),!1})},this._callback_form_field_mm_image=function(e,i,m,t,a){if(0===i.length)return $("#"+a+" .mm-image-preview").html(""),$("#"+a+" .mm-image-value").val(""),$("#"+a+" .mm-image-remove").css("display","none"),void(t.length&&$.fancybox.open({href:t}));var l=$("#"+a).data("scheme"),n=i.split(".");l=l.replace("{[bucket]}",e),l=l.replace("{[filename]}",n[0]),l=l.replace("{[extension]}","."+n[1]),$("#"+a+" .mm-image-preview").html('<img src="'+l+'" / >'),$("#"+a+" .mm-image-value").val(m),$("#"+a+" .mm-image-remove").css("display","inline-block"),t.length&&$.fancybox.open({href:t})},this._init_form_field_multiimage=function(){},this.__construct()};
//# sourceMappingURL=nails.forms.min.js.map

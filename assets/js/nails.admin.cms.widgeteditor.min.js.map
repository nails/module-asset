{"version":3,"sources":["nails.admin.cms.widgeteditor.js"],"names":["NAILS_Admin_CMS_WidgetEditor","base","this","widgets","actions","label","type","callback","widgetData","activeArea","getActiveData","close","container","sections","isOpen","defaultArea","searchTimeout","searchDelay","__construct","log","generateMarkup","bindEvents","loadSidebarWidgets","done","renderSidebarWidgets","item","$","addClass","header","text","search","body","html","widget","attr","append","renderActions","warn","actionIndex","groupIndex","on","data","call","hasClass","removeClass","toggleClass","clearTimeout","setTimeout","term","find","val","trim","searchWidgets","domElement","closest","getWidget","confirm","remove","callbacks","removed","slug","serializeObject","empty","setupWidgetEditor","deferred","i","x","key","assetsCss","assetsJs","Deferred","_nails_api","controller","method","success","length","hasOwnProperty","Function","assets","css","js","resolve","error","reject","toggle","icon","keywords","regex","group","each","split","RegExp","test","addAction","push","removeAction","action","show","area","widgetDom","addWidget","draggableConstruct","sortableConstruct","draggableDestroy","sortableDestroy","trigger","draggable","helper","connectToSortable","appendTo","zIndex","sortable","placeholder","handle","axis","start","e","ui","height","outerHeight","_nails_admin","destroyWysiwyg","receive","sourceWidget","targetWidget","widgetSlug","removeAttr","stop","buildWysiwyg","Mustache","render","getWidgetEditor","_nails","addStripes","initSelect2","initToggles","initTipsy","dropped","fail","editor","_data","JSON","parse","responseText","status","promise","getAreaData","setAreaData","out","message","title","dialog","resizable","modal","dialogClass","buttons","OK","Cancel","payload","console","undefined"],"mappings":"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","file":"nails.admin.cms.widgeteditor.min.js"}
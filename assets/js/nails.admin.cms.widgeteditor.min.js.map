{"version":3,"sources":["nails.admin.cms.widgeteditor.js"],"names":["NAILS_Admin_CMS_WidgetEditor","base","this","widgets","actions","label","type","callback","widgetData","activeArea","getActiveData","close","container","sections","isOpen","defaultArea","searchTimeout","searchDelay","__construct","log","generateMarkup","bindEvents","loadSidebarWidgets","done","renderSidebarWidgets","item","$","addClass","header","text","search","body","html","widget","attr","append","renderActions","warn","actionIndex","groupIndex","on","data","call","hasClass","removeClass","toggleClass","clearTimeout","setTimeout","term","find","val","trim","searchWidgets","closest","confirm","remove","slug","serializeObject","empty","setupWidgetEditor","deferred","Deferred","_nails_api","controller","method","success","resolve","error","reject","i","x","toggle","icon","length","keywords","regex","group","each","split","RegExp","test","addAction","push","removeAction","action","show","area","key","hasOwnProperty","widgetDom","addWidget","draggableConstruct","sortableConstruct","draggableDestroy","sortableDestroy","trigger","draggable","helper","connectToSortable","appendTo","zIndex","sortable","placeholder","handle","axis","start","e","ui","height","outerHeight","_nails_admin","destroyWysiwyg","receive","sourceWidget","targetWidget","widgetSlug","removeAttr","stop","buildWysiwyg","getWidget","Mustache","render","getWidgetEditor","_nails","addStripes","initSelect2","initTipsy","fail","editor","_data","JSON","parse","responseText","status","promise","getAreaData","setAreaData","out","message","title","dialog","resizable","modal","dialogClass","buttons","OK","Cancel","payload","console","undefined"],"mappings":"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","file":"nails.admin.cms.widgeteditor.min.js"}
var NAILS_Admin_CMS_pages_Create_Edit;NAILS_Admin_CMS_pages_Create_Edit=function(e,t,i,a){return this._api=null,this.editor_id=Math.floor(1e16*Math.random()),this._editor={},this.search_placeholder="Search widget library",this.templates=e,this.mustache_tpl={},this.widgets=t,this.page_data={},this._dragging_widget=!1,this._editor_open=!1,this._preview_open=!1,this._dialog_open=!1,this._saving=!1,this._refreshing=!1,this._async_save=!0,this.__construct=function(e,t){this._api=new window.NAILS_API;var i,a;if("undefined"==typeof t||null===t){this.page_data={hash:null,id:"undefined"!=typeof e?e:null,data:{},widget_areas:{}};for(var s=0;s<this.templates.length;s++){this.page_data.widget_areas[this.templates[s].slug]={};for(var o=0;o<this.templates[s].widget_areas.length;s++)this.page_data.widget_areas[this.templates[s].slug][this.templates[s].widget_areas[o].slug]=[]}this._refresh_page_data()}else{this.page_data=t,this.page_data.id=e;for(i in this.templates)if(this.templates.hasOwnProperty(i)){"undefined"==typeof this.page_data.widget_areas&&(this.page_data.widget_areas={}),"undefined"==typeof this.page_data.widget_areas[i]&&(this.page_data.widget_areas[i]={});for(a in this.templates[i].widget_areas)"undefined"==typeof this.page_data.widget_areas[i][a]&&(this.page_data.widget_areas[i][a]=[])}}this.page_data.hash=this._generate_data_hash(),"function"==typeof console.log&&console.log("CMS PAGES: Initial page_data:",this.page_data),this._template_chooser_init(),this._editor_init();var n=this;window.onbeforeunload=function(){return n._needs_saved()!==!1?"You have unsaved changes. Are you sure you want to leave?":void 0},$(document).on("click","a.main-action",function(e){if($(this).hasClass("disabled"))return!1;var t=$(this).data("action");switch(n._disable_main_actions(),t){case"save":n._main_action_save();break;case"publish":n._main_action_publish();break;case"preview":n._main_action_launch_preview();break;default:"function"==typeof console.warn&&console.warn("CMS PAGES: Uncaught main-action."),n._enable_main_actions()}return e.stopPropagation(),!1})},this._enable_main_actions=function(){$("a.main-action").removeClass("disabled"),$("p.actions").removeClass("loading")},this._disable_main_actions=function(){$("a.main-action").addClass("disabled"),$("p.actions").addClass("loading")},this._main_action_save=function(){var e=this,t=function(t){e._redirect(window.SITE_URL+"admin/cms/pages/edit/"+t.id+"?message=saved")},i=function(t){e._enable_main_actions(),$("<div>").text(t.error).dialog({title:"Something went wrong.",resizable:!1,draggable:!1,modal:!0,buttons:{OK:function(){$(this).dialog("close")}},open:function(){e._dialog_open=!0},close:function(){setTimeout(function(){e._dialog_open=!1},500)}})};e._save(t,i,!0)},this._main_action_publish=function(){var e=this,t=function(t){e._redirect(window.SITE_URL+"admin/cms/pages/edit/"+t.id+"?message=published")},i=function(t){e._enable_main_actions(),$("<div>").text(t.error).dialog({title:"Something went wrong.",resizable:!1,draggable:!1,modal:!0,buttons:{OK:function(){$(this).dialog("close")}},open:function(){e._dialog_open=!0},close:function(){setTimeout(function(){e._dialog_open=!1},500)}})};e._save(t,i,!0,!0)},this._main_action_launch_preview=function(){this._editor.container.addClass("loading"),this._preview_open=!0;var e=this,t=function(t){e._editor.container.removeClass("loading"),$.fancybox({type:"iframe",href:window.SITE_URL+"cms/render/preview/"+t.id,width:"90%",height:"90%",iframe:{preload:!1},afterClose:function(){e._preview_open=!1,e._enable_main_actions()}})},i=function(t){e._editor.container.removeClass("loading"),e._dialog_open=!0,$("<div>").text(t.error).dialog({title:"Something went wrong.",resizable:!1,draggable:!1,modal:!0,buttons:{OK:function(){$(this).dialog("close")}},open:function(){e._dialog_open=!0},close:function(){setTimeout(function(){e._dialog_open=!1},500)}}),e._preview_open=!1,e._enable_main_actions()};this._save_preview(t,i,!0)},this._save=function(e,t,i,a){if(this._saving)return"function"==typeof console.log&&console.log("CMS PAGES: Save in progress, ignoring repeated call."),!1;if(this._refreshing)return"function"==typeof console.log&&console.log("CMS PAGES: Refresh in progress, ignoring repeated call."),!1;var s=this._needs_saved();if(s!==!1||i){i!==!0?"function"==typeof console.log&&console.log("CMS PAGES: Data has changed, old hash: "+this.page_data.hash+", new hash: "+s+" - Saving..."):"function"==typeof console.log&&console.log("CMS PAGES: Forced save requested. Saving... old hash: "+this.page_data.hash+", new hash: "+s+" - Saving..."),s!==!1&&(this.page_data.hash=s),this._saving=!0,$("#save-status").removeClass("message").addClass("saving notice").show(),$("#save-status .last-saved").text("Saving...");var o;o=a===!0?"PUBLISH":"NONE";var n={controller:"cms/pages",method:"save",action:"POST",async:this._async_save,data:{page_data:JSON.stringify(this.page_data),publish_action:o},success:$.proxy(function(t){this._save_ok(e,t)},this),error:$.proxy(function(e){this._save_fail(t,e)},this)};return this._api.call(n),!0}return"function"==typeof console.log&&console.log("CMS PAGES: Page data hasn't changed, ignoring call"),!1},this._save_ok=function(e,t){if(200===t.status){this.page_data.id=t.id,this.page_data.hash=this._generate_data_hash(),$("#save-status").removeClass("saving");var i=new Date,a=i.getHours()<10?"0"+i.getHours():i.getHours(),s=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),o=a+":"+s;$("#save-status .last-saved").text(o),"function"==typeof console.log&&console.log("CMS PAGES: Save completed successfully")}else $("#save-status").removeClass("saving notice").addClass("message"),$("#save-status .last-saved").text("ERROR: "+t.error),"function"==typeof console.log&&console.log("CMS PAGES: Save failed: "+t.error);this._saving=!1,"function"==typeof e&&e.call(void 0,t)},this._save_fail=function(e,t){var i;try{i=JSON.parse(t.responseText)}catch(a){i={}}$("#save-status").removeClass("saving notice").addClass("message"),$("#save-status .last-saved").text("ERROR: "+i.error),"function"==typeof console.log&&console.log("CMS PAGES: Save failed: "+i.error),this._saving=!1,"function"==typeof e&&e.call(void 0,i)},this._save_preview=function(e,t){if(this._saving_preview)return"function"==typeof console.log&&console.log("CMS PAGES: Save (Preview) in progress, ignoring repeated call."),!1;this._saving_preview=!0,this._refresh_page_data(),this.page_data.hash=this._generate_data_hash();var i={controller:"cms/pages",method:"save",action:"POST",async:this._async_save,data:{page_data:JSON.stringify(this.page_data),generate_preview:!0},success:$.proxy(function(t){this._save_preview_ok(e,t)},this),error:$.proxy(function(e){this._save_preview_fail(t,e)},this)};this._api.call(i)},this._save_preview_ok=function(e,t){this._saving_preview=!1,"function"==typeof e&&e.call(void 0,t)},this._save_preview_fail=function(e,t){var i;try{i=JSON.parse(t.responseText)}catch(a){i={}}this._saving_preview=!1,"function"==typeof e&&e.call(void 0,i)},this._needs_saved=function(){var e=this._generate_data_hash();return this.page_data.hash!==e?e:!1},this._refresh_page_data=function(){this._refreshing=!0,this.page_data.data.title=$("<div />").text($("input[name=title]").val()).html(),this.page_data.data.is_published=$("input[name=is_published]").val();var e=$("select[name=parent_id]");if(1===e.length?this.page_data.data.parent_id=e.val():this.page_data.data.parent_id=$("input[name=parent_id]").val(),this.page_data.data.seo_title=$("input[name=seo_title]").val(),this.page_data.data.seo_description=$("input[name=seo_description]").val(),this.page_data.data.seo_keywords=$("input[name=seo_keywords]").val(),this.page_data.data.template=$("input[name=template]:checked").val(),this.page_data.data.additional_fields=$(":input[name^=additional_field]").serialize(),this._editor_open){var t=this,i=this._editor.dropzone.data("template"),a=this._editor.dropzone.data("area");"undefined"==typeof this.page_data.widget_areas[i]&&(this.page_data.widget_areas[i]={}),this.page_data.widget_areas[i][a]=[],this._editor.dropzone.find("li.processed.dropzone-widget").each(function(){var e={widget:$(this).data("slug"),data:$(this).find("form.editor").serialize()};t.page_data.widget_areas[i][a].push(e)})}this._refreshing=!1},this._generate_data_hash=function(){this._refresh_page_data();var e={data:{},widget_areas:{}};return $.extend(e.data,this.page_data.data),$.extend(e.widget_areas,this.page_data.widget_areas),this.md5(JSON.stringify(e))},this._template_chooser_init=function(){$("label.template").on("click",function(){$("label.template").removeClass("selected"),$(this).addClass("selected");var e=$(this).data("template-slug");$("a.launch-editor").hide(),$("a.launch-editor.template-"+e).show(),$(".additional-fields").hide(),$("#additional-fields-"+e).show()})},this._editor_init=function(){var e=this;this.mustache_tpl.loader=$("#template-loader").html(),this.mustache_tpl.widget_search=$("#template-widget-search").html(),this.mustache_tpl.dropzone_empty=$("#template-dropzone-empty").html(),this.mustache_tpl.widget_grouping=$("#template-widget-grouping").html(),this.mustache_tpl.widget=$("#template-widget").html(),this.mustache_tpl.header=$("#template-header").html(),this.mustache_tpl.dropzone_empty=$("#template-dropzone-empty").html(),this.mustache_tpl.dropzone_widget=$("#template-dropzone-widget").html(),this._editor.container=$("<div>").attr("id",this.editor_id).addClass("group-cms pages widgeteditor ready"),this._editor.loader=$("<div>").attr("id",this.editor_id+"-loader").addClass("loader").html(this.mustache_tpl.loader),this._editor.header=$("<ul>").attr("id",this.editor_id+"-header").addClass("header"),this._editor.widgets=$("<ul>").attr("id",this.editor_id+"-widgets").addClass("widgets").disableSelection(),this._editor.widgets_search=$("<li>").attr("id",this.editor_id+"-search").addClass("search").html(this.mustache_tpl.widget_search),this._editor.dropzone=$("<ul>").attr("id",this.editor_id+"-dropzone").addClass("dropzone empty").html(this.mustache_tpl.dropzone_empty),this._editor.widgets.append(this._editor.widgets_search);var t,i,a,s,o,n,d;t=0,i=this.mustache_tpl.widget_grouping,a=this.mustache_tpl.widget;for(var r=0;r<this.widgets.length;r++){s={name:this.widgets[r].label,group:"group-"+t},o=Mustache.render(i,s),this._editor.widgets.append(o);for(var h=0;h<this.widgets[r].widgets.length;h++)s={group:"group-"+t,name:this.widgets[r].widgets[h].label,description:this.widgets[r].widgets[h].description,keywords:this.widgets[r].widgets[h].keywords,slug:this.widgets[r].widgets[h].slug},o=Mustache.render(a,s),this._editor.widgets.append(o),n="var _WIDGET_CALLBACKS_"+this.widgets[r].widgets[h].slug+" = function(){",n+="this.findCkeditor = function(ui)",n+="{",n+="var _this = this;",n+="var configBasic   = window.NAILS.URL + 'js/ckeditor.config.basic.min.js';",n+="var configDefault = window.NAILS.URL + 'js/ckeditor.config.default.min.js';",n+="var appConfigBasic   = window.SITE_URL + 'assets/js/nails.admin.ckeditor.config.basic.min.js';",n+="var appConfigDefault = window.SITE_URL + 'assets/js/nails.admin.ckeditor.config.default.min.js';",n+="$.ajax({",n+="    url: appConfigBasic,",n+="    type:'HEAD',",n+="    success: function()",n+="    {",n+="        ui.find('textarea.wysiwyg-basic').each(function(index) {",n+="            _this.initWysiwyg(ui, $(this), appConfigBasic, index);",n+="        });",n+="    },",n+="    error: function()",n+="    {",n+="        ui.find('textarea.wysiwyg-basic').each(function(index) {",n+="            _this.initWysiwyg(ui, $(this), configBasic, index);",n+="        });",n+="    }",n+="});",n+="$.ajax({",n+="    url: appConfigDefault,",n+="    type:'HEAD',",n+="    success: function()",n+="    {",n+="        ui.find('textarea.wysiwyg').each(function(index) {",n+="            _this.initWysiwyg(ui, $(this), appConfigDefault, index);",n+="        });",n+="    },",n+="    error: function()",n+="    {",n+="        ui.find('textarea.wysiwyg').each(function(index) {",n+="            _this.initWysiwyg(ui, $(this), configDefault, index);",n+="        });",n+="    }",n+="});",n+="};",n+="this.initWysiwyg = function(ui, el, config, index)",n+="{",n+="var id = ui.attr('id') + '-wysiwyg-' + index;",n+="el.attr('id', id);",n+="el.ckeditor(",n+="{",n+="    customConfig: config",n+="}, function() {",n+="    var headerHeight = ui.find('.header-bar').outerHeight();",n+="    var editorHeight = ui.find('.editor').outerHeight();",n+="    var height       = headerHeight + editorHeight;",n+="    if (ui.css('box-sizing') === 'border-box') {",n+="        height = height + (2 * parseInt(ui.css('border-width'), 10));",n+="    }",n+="    ui.stop().animate({height: height}, 250);",n+="});",n+="CKEDITOR.instances[id].on('autoGrow', function(e) {",n+="    var difference   = e.data.newHeight - e.data.currentHeight;",n+="    var headerHeight = ui.find('.header-bar').outerHeight();",n+="    var editorHeight = ui.find('.editor').outerHeight();",n+="    var height       = headerHeight + editorHeight + difference;",n+="    ui.css({height:height});",n+="});",n+="};",n+="this.dropped = function(ui) {",this.widgets[r].widgets[h].callbacks.dropped.length>0&&(n+=this.widgets[r].widgets[h].callbacks.dropped),n+=" this.findCkeditor(ui);",n+="ui.find('select.select2').select2();",n+="};",n+="this.removed = function(ui){",this.widgets[r].widgets[h].callbacks.removed.length>0&&(n+=this.widgets[r].widgets[h].callbacks.removed),n+="};",n+="this.resize_widget = function(ui){",n+="var _header_height  = ui.find('.header-bar').outerHeight();",n+="var _editor_height  = ui.find('.editor').outerHeight();",n+="var _height         = _header_height + _editor_height;",n+="if (ui.css('box-sizing') === 'border-box')",n+="{",n+="_height = _height + (2 * parseInt(ui.css('border-width'), 10));",n+="}",n+="ui.animate({height:_height},250);",n+="};",n+="};",n+="var _WIDGET_"+this.widgets[r].widgets[h].slug+" = new _WIDGET_CALLBACKS_"+this.widgets[r].widgets[h].slug+"();",d=$("<script>").attr("id","callbacks-"+this.widgets[r].widgets[h].slug).attr("type","text/javascript").html(n),$("body").append(d);t++}this._editor.container.append(this._editor.loader),this._editor.container.append(this._editor.header),this._editor.container.append(this._editor.dropzone),this._editor.container.append(this._editor.widgets),$("body").append(this._editor.container),$("a.launch-editor").on("click",function(){var t=$(this).data("template"),i=$(this).data("area");return e._editor_launch(t,i),!1}),$('li.widget[title!=""]',this._editor.widgets).tipsy({gravity:"w"})},this._editor_launch=function(e,t){$("#"+this.editor_id).removeClass("ready").addClass("loading").show(),$("body").addClass("noscroll"),this._load_widgets_for_area(e,t),this._editor_construct(e,t),$("#"+this.editor_id).addClass("ready").removeClass("loading")},this._editor_construct=function(e,t){var i=this;this._editor.dropzone.data("template",e),this._editor.dropzone.data("area",t);var a,s;a=this._get_template(e),a.active_area=a.widget_areas[t].title,s=this.mustache_tpl.header,s=Mustache.render(s,a),this._editor.header.html(s),this._editor.dropzone.sortable({placeholder:"placeholder",handle:".sorter",start:function(e,t){t.placeholder.height(t.helper.height())},update:function(e,t){t.item.hasClass("processed")||i._drop_widget(a.slug,t.item)},over:function(){i._editor.dropzone.removeClass("empty"),i._editor.dropzone.find("li.empty").remove()},out:function(){var e=0;if(e+=i._editor.dropzone.find("li.dropzone-widget").length,e+=i._editor.dropzone.find("li.widget").length,1>=e){var t=i.mustache_tpl.dropzone_empty;i._editor.dropzone.addClass("empty").append(t)}},stop:function(e,t){if(i._editor.dropzone.find("li.dropzone-widget").length<=0){var a=i.mustache_tpl.dropzone_empty;i._editor.dropzone.addClass("empty").append(a)}else i._editor.dropzone.removeClass("empty"),i._editor.dropzone.find("li.empty").remove()}}),this._editor.widgets.find("li.widget:not(.disabled)").draggable({helper:function(e){var t=$(e.currentTarget);return $("<li>").addClass("dragging-widget").text(t.data("title")).attr("data-slug",t.data("slug"))},appendTo:"#"+this.editor_id,zIndex:3,connectToSortable:this._editor.dropzone,start:function(){i._dragging_widget=!0},stop:function(){i._dragging_widget=!1}}),$(document).on("keyup",function(e){i._dragging_widget||i._preview_open||i._dialog_open||27!==e.keyCode||i._editor_close()}),this._editor.widgets_search.find("a.minimiser").on("click",function(){$("#"+i.editor_id).toggleClass("minimised")}),this._editor.widgets_search.find("input").on("keyup",function(){var e=$.trim($(this).val());e.length>0?i._editor.widgets.find("li.widget").each(function(){var t=$.trim($(this).find(".label").text()),i=$(this).data("keywords").split(",");i.push(t),i=i.filter(function(e){return e=$.trim(e),0===e.length?!1:!0});var a=new RegExp(e,"gi");a.test(i)?($(this).addClass("search-hit"),$(this).removeClass("search-miss")):($(this).addClass("search-miss"),$(this).removeClass("search-hit"))}):i._editor.widgets.find("li.widget").removeClass("search-miss search-hit")}),this._editor.widgets.find("li.grouping").on("click",function(){$(this).toggleClass("open");var e=$(this).data("group");i._editor.widgets.find("li.widget."+e).toggleClass("hidden")}),i._editor.header.find("ul.rhs a.action").on("click",function(){var e=$(this).data("action");switch(e){case"close":i._editor_close()}return!1}),this._editor_open=!0},this._editor_destruct=function(){this._refresh_page_data(),$("body").removeClass("noscroll"),this._editor.widgets.find("li.widget:not(.disabled)").draggable("destroy"),this._editor.widgets.find("li.dropzone").sortable("destroy"),this._editor.widgets.find("li.widget.disabled").removeClass("disabled").data("original-title","").attr("title",""),$(document).off("keyup"),this._editor.widgets_search.find("a.minimiser").off("click"),this._editor.widgets_search.find("input").off("keyup"),this._editor.widgets.find("li.grouping").off("click"),this._editor.header.find("ul.rhs a").off("click"),this._editor.dropzone.data("template",""),this._editor.dropzone.data("area",""),this._editor_open=!1},this._load_widgets_for_area=function(e,t){var i=this.mustache_tpl.dropzone_empty;if(this._editor.dropzone.addClass("empty").html(i),"undefined"!=typeof this.page_data.widget_areas[e][t]&&this.page_data.widget_areas[e][t].length){this._editor.dropzone.removeClass("empty"),this._editor.dropzone.find("li.empty").remove();for(var a in this.page_data.widget_areas[e][t])if(this.page_data.widget_areas[e][t].hasOwnProperty(a)){var s=this.page_data.widget_areas[e][t][a],o=$("<div>").data("slug",s.widget);this._editor.dropzone.append(o),this._drop_widget(e,o,s.data)}}},this._drop_widget=function(e,t,i){var a,s,o,n,d;if(a=$(t).data("slug"),s=this._get_widget(a),s!==!1){o={id:"widget-editor-"+Math.floor(1e16*Math.random()),slug:a,label:s.label,description:s.description},n=Mustache.render(this.mustache_tpl.dropzone_widget,o),d=$("<li>"),d.addClass("processed dropzone-widget "+o.slug),0===o.description.length&&d.addClass("mask-no-description"),d.attr("id",o.id),d.data("slug",o.slug),d.html(n);var r=this;$(".header-bar .closer",d).on("click",function(e){var t=$(this).closest("li.dropzone-widget").attr("id");return r._remove_widget(t),e.stopPropagation(),!1}),t.replaceWith(d),this._editor.dropzone.removeClass("empty"),this._editor.dropzone.find("li.empty").remove();var h={action:"POST",controller:"cms/pages",method:"widgetEditor",data:{widget:s.slug,template:e,id:o.id,data:i},success:function(e){$(d).find(".editor").html(e.HTML),"function"==typeof _nails.addStripes&&_nails.addStripes(),"function"==typeof $.fn.select2;try{window["_WIDGET_"+s.slug].dropped(d)}catch(t){"function"==typeof console.log&&console.log('CMS PAGES: `dropped` callback is not defined for widget "'+s.slug+'"',t)}try{window["_WIDGET_"+s.slug].resize_widget(d)}catch(t){"function"==typeof console.log&&console.log('CMS PAGES: `resize_widget` callback is not defined for widget "'+s.slug+'"',t)}r._refresh_page_data()},error:function(e){var t=JSON.parse(e.responseText);$(d).addClass("error").find(".editor").html('<p class="system-alert error"><strong>Error:</strong> '+t.error+"</p>")}};this._api.call(h)}else{"function"==typeof console.warn&&console.warn('CMS PAGES: Could not find widget "'+a+'"; ignored.'),$(t).remove();var l="";l+='<p>I just attempted, and failed, to load a widget whose slug was "'+a+'"</p>',l+="<p>This likely happened due to an out-of-date database or a 3rd party edited the database with bad data.</p>",l+="<p>While nothing dangerous has happened, you should know that this widget was not loaded. You should check that your page is as expected.</p>",$("<div>").html(l).dialog({title:"A widget could not be loaded",resizable:!1,draggable:!1,modal:!0,buttons:{OK:function(){$(this).dialog("close")}}})}},this._remove_widget=function(e){var t=this;$("<div>").text("Are you sure you wish to remove this widget from the interface?").dialog({title:"Are you sure?",resizable:!1,draggable:!1,modal:!0,buttons:{OK:function(){var i=$("#"+e),a=i.data("slug");$(this).dialog("close"),i.animate({opacity:0,height:0},250,function(){if(i.remove(),t._editor.dropzone.find("li.dropzone-widget").length<=0){var e=t.mustache_tpl.dropzone_empty;t._editor.dropzone.addClass("empty").append(e).find("li.empty").css({opacity:0}).animate({opacity:1},250)}try{window["_WIDGET_"+a].removed(i)}catch(s){"function"==typeof console.log&&console.log('CMS PAGES: `removed` callback is not defined for widget "'+a+'"',s)}})},Cancel:function(){$(this).dialog("close")}},open:function(){t._dialog_open=!0},close:function(){setTimeout(function(){t._dialog_open=!1},500)}}),$(".ui-widget-overlay").css({zIndex:1e3})},this._editor_close=function(){$("#"+this.editor_id).hide(),this._editor_destruct()},this._get_template=function(e){for(var t=this.templates.length-1;t>=0;t--)if(e===this.templates[t].slug)return this.templates[t];return!1},this._get_widget=function(e){for(var t=this.widgets.length-1;t>=0;t--)for(var i=this.widgets[t].widgets.length-1;i>=0;i--)if(e===this.widgets[t].widgets[i].slug)return this.widgets[t].widgets[i];return!1},this._redirect=function(e){window.onbeforeunload=null,window.location.href=e},this._array_search=function(e,t,i){var a=!!i,s="";if(t&&"object"==typeof t&&t.change_key_case)return t.search(e,i);if("object"==typeof e&&e.exec){if(!a){var o="i"+(e.global?"g":"")+(e.multiline?"m":"")+(e.sticky?"y":"");e=new RegExp(e.source,o)}for(s in t)if(e.test(t[s]))return s;return!1}for(s in t)if(a&&t[s]===e||!a&&t[s]==e)return s;return!1},this.md5=function(e){var t,i,a,s,o,n,d,r,h,l,_=function(e,t){return e<<t|e>>>32-t},g=function(e,t){var i,a,s,o,n;return s=2147483648&e,o=2147483648&t,i=1073741824&e,a=1073741824&t,n=(1073741823&e)+(1073741823&t),i&a?2147483648^n^s^o:i|a?1073741824&n?3221225472^n^s^o:1073741824^n^s^o:n^s^o},c=function(e,t,i){return e&t|~e&i},p=function(e,t,i){return e&i|t&~i},u=function(e,t,i){return e^t^i},f=function(e,t,i){return t^(e|~i)},w=function(e,t,i,a,s,o,n){return e=g(e,g(g(c(t,i,a),s),n)),g(_(e,o),t)},m=function(e,t,i,a,s,o,n){return e=g(e,g(g(p(t,i,a),s),n)),g(_(e,o),t)},v=function(e,t,i,a,s,o,n){return e=g(e,g(g(u(t,i,a),s),n)),g(_(e,o),t)},y=function(e,t,i,a,s,o,n){return e=g(e,g(g(f(t,i,a),s),n)),g(_(e,o),t)},$=function(e){for(var t,i=e.length,a=i+8,s=(a-a%64)/64,o=16*(s+1),n=new Array(o-1),d=0,r=0;i>r;)t=(r-r%4)/4,d=r%4*8,n[t]=n[t]|e.charCodeAt(r)<<d,r++;return t=(r-r%4)/4,d=r%4*8,n[t]=n[t]|128<<d,n[o-2]=i<<3,n[o-1]=i>>>29,n},b=function(e){var t,i,a="",s="";for(i=0;3>=i;i++)t=e>>>8*i&255,s="0"+t.toString(16),a+=s.substr(s.length-2,2);return a},C=[],S=7,z=12,k=17,x=22,E=5,A=9,M=14,T=20,I=4,P=11,H=16,G=23,O=6,L=10,R=15,D=21;for(e=this.utf8_encode(e),C=$(e),d=1732584193,r=4023233417,h=2562383102,l=271733878,t=C.length,i=0;t>i;i+=16)a=d,s=r,o=h,n=l,d=w(d,r,h,l,C[i+0],S,3614090360),l=w(l,d,r,h,C[i+1],z,3905402710),h=w(h,l,d,r,C[i+2],k,606105819),r=w(r,h,l,d,C[i+3],x,3250441966),d=w(d,r,h,l,C[i+4],S,4118548399),l=w(l,d,r,h,C[i+5],z,1200080426),h=w(h,l,d,r,C[i+6],k,2821735955),r=w(r,h,l,d,C[i+7],x,4249261313),d=w(d,r,h,l,C[i+8],S,1770035416),l=w(l,d,r,h,C[i+9],z,2336552879),h=w(h,l,d,r,C[i+10],k,4294925233),r=w(r,h,l,d,C[i+11],x,2304563134),d=w(d,r,h,l,C[i+12],S,1804603682),l=w(l,d,r,h,C[i+13],z,4254626195),h=w(h,l,d,r,C[i+14],k,2792965006),r=w(r,h,l,d,C[i+15],x,1236535329),d=m(d,r,h,l,C[i+1],E,4129170786),l=m(l,d,r,h,C[i+6],A,3225465664),h=m(h,l,d,r,C[i+11],M,643717713),r=m(r,h,l,d,C[i+0],T,3921069994),d=m(d,r,h,l,C[i+5],E,3593408605),l=m(l,d,r,h,C[i+10],A,38016083),h=m(h,l,d,r,C[i+15],M,3634488961),r=m(r,h,l,d,C[i+4],T,3889429448),d=m(d,r,h,l,C[i+9],E,568446438),l=m(l,d,r,h,C[i+14],A,3275163606),h=m(h,l,d,r,C[i+3],M,4107603335),r=m(r,h,l,d,C[i+8],T,1163531501),d=m(d,r,h,l,C[i+13],E,2850285829),l=m(l,d,r,h,C[i+2],A,4243563512),h=m(h,l,d,r,C[i+7],M,1735328473),r=m(r,h,l,d,C[i+12],T,2368359562),d=v(d,r,h,l,C[i+5],I,4294588738),l=v(l,d,r,h,C[i+8],P,2272392833),h=v(h,l,d,r,C[i+11],H,1839030562),r=v(r,h,l,d,C[i+14],G,4259657740),d=v(d,r,h,l,C[i+1],I,2763975236),l=v(l,d,r,h,C[i+4],P,1272893353),h=v(h,l,d,r,C[i+7],H,4139469664),r=v(r,h,l,d,C[i+10],G,3200236656),d=v(d,r,h,l,C[i+13],I,681279174),l=v(l,d,r,h,C[i+0],P,3936430074),h=v(h,l,d,r,C[i+3],H,3572445317),r=v(r,h,l,d,C[i+6],G,76029189),d=v(d,r,h,l,C[i+9],I,3654602809),l=v(l,d,r,h,C[i+12],P,3873151461),h=v(h,l,d,r,C[i+15],H,530742520),r=v(r,h,l,d,C[i+2],G,3299628645),d=y(d,r,h,l,C[i+0],O,4096336452),l=y(l,d,r,h,C[i+7],L,1126891415),h=y(h,l,d,r,C[i+14],R,2878612391),r=y(r,h,l,d,C[i+5],D,4237533241),d=y(d,r,h,l,C[i+12],O,1700485571),l=y(l,d,r,h,C[i+3],L,2399980690),h=y(h,l,d,r,C[i+10],R,4293915773),r=y(r,h,l,d,C[i+1],D,2240044497),d=y(d,r,h,l,C[i+8],O,1873313359),l=y(l,d,r,h,C[i+15],L,4264355552),h=y(h,l,d,r,C[i+6],R,2734768916),r=y(r,h,l,d,C[i+13],D,1309151649),d=y(d,r,h,l,C[i+4],O,4149444226),l=y(l,d,r,h,C[i+11],L,3174756917),h=y(h,l,d,r,C[i+2],R,718787259),r=y(r,h,l,d,C[i+9],D,3951481745),d=g(d,a),r=g(r,s),h=g(h,o),l=g(l,n);var j=b(d)+b(r)+b(h)+b(l);return j.toLowerCase()},this.utf8_encode=function(e){return unescape(encodeURIComponent(e))},this.__construct(i,a)};
//# sourceMappingURL=nails.admin.cms.pages.createEdit.min.js.map

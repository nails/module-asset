var NAILS_Admin_Accounts_Merge;NAILS_Admin_Accounts_Merge=function(){return this.__construct=function(){var e=this;$("#userId").select2({placeholder:"Search for a user",minimumInputLength:1,ajax:{url:window.SITE_URL+"api/admin/users/search",dataType:"json",quietMillis:250,data:function(e){return{term:e}},results:function(e){var r={results:[]},s="",t="";for(var u in e.users)s=e.users[u].id,t="#"+s+" - "+e.users[u].first_name+" "+e.users[u].last_name,r.results.push({text:t,id:s});return r},cache:!0}}),$("#mergeIds").select2({placeholder:"Search for users",minimumInputLength:1,multiple:!0,ajax:{url:window.SITE_URL+"api/admin/users/search",dataType:"json",quietMillis:250,data:function(e){return{term:e}},results:function(e){var r={results:[]},s="",t="";for(var u in e.users)s=e.users[u].id,t="#"+s+" - "+e.users[u].first_name+" "+e.users[u].last_name,r.results.push({text:t,id:s});return r},cache:!0}}),$("#theForm").on("submit",function(){return e.validate()})},this.validate=function(){var e=!1,r=[],s=parseInt($("#userId").val(),10),t=$("#mergeIds").val().split(","),u=[],n;for(n=0;n<t.length;n++)t[n]&&u.push(parseInt(t[n],10));for(isNaN(s)&&(e=!0,r.push("You must specify the user to keep.")),0===u.length&&(e=!0,r.push("You must specify at least one user to merge.")),n=0;n<u.length;n++)if(u[n]===s){e=!0,r.push("The user to merge into cannot be listed as a merge user.");break}for(n=0;n<u.length;n++)if(u[n]===window.NAILS.USER.ID){e=!0,r.push("You cannot specify yourself as a merge user.");break}if(e===!0){var a;a="<p>The following errors occurred:</p>",a+="<ul>";for(var i in r)a+="<li>&rsaquo; "+r[i]+"</li>";return a+="</ul>",$("<div>").html(a).dialog({title:"An error occurred",resizable:!1,draggable:!1,modal:!0,dialogClass:"no-close",buttons:{OK:function(){$(this).dialog("close")}}}).show(),!1}return!0},this.__construct()};
//# sourceMappingURL=./nails.admin.accounts.merge.min.js.map
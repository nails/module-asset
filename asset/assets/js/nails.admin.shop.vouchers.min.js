var NAILS_Admin_Shop_Vouchers_Edit;NAILS_Admin_Shop_Vouchers_Edit=function(){var e=this;return e.__construct=function(){$("select[name=type]").on("change",function(){e.handleTypeChange()}),$("select[name=discount_application]").on("change",function(){e.handleApplicationChange()}),$("#generate-code").on("click",function(){return e.generateCode()}),e.handleApplicationChange(),e.handleTypeChange(),$(".datetime1").datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",beforeShow:function(){$(".datetime1").datetimepicker("option","maxDate",$(".datetime2").datetimepicker("getDate"))},onSelect:function(){$(".datetime2").datetimepicker("option","minDate",$(".datetime1").datetimepicker("getDate"))}}),$(".datetime2").datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",minDate:new Date,beforeShow:function(){$(".datetime2").datetimepicker("option","minDate",$(".datetime1").datetimepicker("getDate"))},onSelect:function(){$(".datetime1").datetimepicker("option","maxDate",$(".datetime2").datetimepicker("getDate"))}})},e.handleTypeChange=function(){switch($("select[name=type]").val()){case"NORMAL":$("#type-limited").hide(),$("select[name=discount_type]").removeAttr("disabled"),$("select[name=discount_application]").removeAttr("disabled");break;case"LIMITED_USE":$("#type-limited").show(),$("select[name=discount_type]").removeAttr("disabled"),$("select[name=discount_application]").removeAttr("disabled");break;case"GIFT_CARD":$("#type-limited").hide(),$("#application-product_types").hide(),$("select[name=discount_type] option[selected=selected]").attr("selected",""),$("select[name=discount_type] option[value=AMOUNT]").attr("selected","selected"),$("select[name=discount_type]").attr("disabled","disabled"),$("select[name=discount_type]").trigger("change"),$("select[name=discount_application] option[selected=selected]").attr("selected",""),$("select[name=discount_application] option[value=ALL]").attr("selected","selected"),$("select[name=discount_application]").attr("disabled","disabled"),$("select[name=discount_application]").trigger("change")}e.hideNoExtendedData()},e.handleApplicationChange=function(){switch($("select[name=discount_application]").val()){case"PRODUCTS":case"SHIPPING":case"ALL":$("#application-product_types").hide();break;case"PRODUCT_TYPES":$("#application-product_types").show()}e.hideNoExtendedData()},e.hideNoExtendedData=function(){$("#type-limited:visible, #type-gift_card:visible, #application-product_types:visible").length?$("#no-extended-data").hide():$("#no-extended-data").show()},e.generateCode=function(){$("#generateCodeSpinner").show();var t={controller:"shop/voucher",method:"generateCode",success:function(t){e.generateCodeOk(t)}};return _nails_api.call(t),!1},this.generateCodeOk=function(e){$("#generateCodeSpinner").hide(),$("input[name=code]").val(e.code)},e.__construct()};
//# sourceMappingURL=./nails.admin.shop.vouchers.min.js.map
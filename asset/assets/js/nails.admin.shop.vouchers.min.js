var NAILS_Admin_Shop_Vouchers;NAILS_Admin_Shop_Vouchers=function(){this.init_create=function(){var e=this;$("select[name=type]").on("change",function(){e._handle_type_change()}),$("select[name=discount_application]").on("change",function(){e._handle_application_change()}),$("#generate-code").on("click",function(){return e.generateCode()}),this._handle_application_change(),this._handle_type_change(),$(".datetime1").datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",beforeShow:function(){$(".datetime1").datetimepicker("option","maxDate",$(".datetime2").datetimepicker("getDate"))},onSelect:function(){$(".datetime2").datetimepicker("option","minDate",$(".datetime1").datetimepicker("getDate"))}});var t=new Date;$(".datetime2").datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",minDate:t,beforeShow:function(){$(".datetime2").datetimepicker("option","minDate",$(".datetime1").datetimepicker("getDate"))},onSelect:function(){$(".datetime1").datetimepicker("option","maxDate",$(".datetime2").datetimepicker("getDate"))}})},this._handle_type_change=function(){switch($("select[name=type]").val()){case"NORMAL":$("#type-limited").hide(),$("select[name=discount_type]").removeAttr("disabled"),$("select[name=discount_type]").trigger("liszt:updated"),$("select[name=discount_application]").removeAttr("disabled"),$("select[name=discount_application]").trigger("liszt:updated");break;case"LIMITED_USE":$("#type-limited").show(),$("select[name=discount_type]").removeAttr("disabled"),$("select[name=discount_type]").trigger("liszt:updated"),$("select[name=discount_application]").removeAttr("disabled"),$("select[name=discount_application]").trigger("liszt:updated");break;case"GIFT_CARD":$("#type-limited").hide(),$("#application-product_types").hide(),$("select[name=discount_type] option[selected=selected]").attr("selected",""),$("select[name=discount_type] option[value=AMOUNT]").attr("selected","selected"),$("select[name=discount_type]").attr("disabled","disabled"),$("select[name=discount_type]").trigger("liszt:updated"),$("select[name=discount_application] option[selected=selected]").attr("selected",""),$("select[name=discount_application] option[value=ALL]").attr("selected","selected"),$("select[name=discount_application]").attr("disabled","disabled"),$("select[name=discount_application]").trigger("liszt:updated")}$("#type-limited:visible, #type-gift_card:visible, #application-product_types:visible").length?$("#no-extended-data").hide():$("#no-extended-data").show()},this._handle_application_change=function(){switch($("select[name=discount_application]").val()){case"PRODUCTS":case"SHIPPING":case"ALL":$("#application-product_types").hide();break;case"PRODUCT_TYPES":$("#application-product_types").show()}$("#type-limited:visible, #type-gift_card:visible, #application-product_types:visible").length?$("#no-extended-data").hide():$("#no-extended-data").show()},this.generateCode=function(){var e=this,t={controller:"admin/shop",method:"voucher_generate_code",success:function(t){e.generateCodeOk(t)}};return _nails_api.call(t),!1},this.generateCodeOk=function(e){$("input[name=code]").val(e.code)}};
//# sourceMappingURL=./nails.admin.shop.vouchers.min.js.map
var NAILS_Forms;NAILS_Forms=function(){return this.__construct=function(){this._init_form_field_mm(),this._init_form_field_mm_image(),this._init_form_field_multiimage()},this._init_form_field_mm=function(){$(document).on("click",".field.mm-file a.mm-file-choose",function(){var e,i,m;return e=$(this).attr("href"),e+=e.indexOf("?")>=0?"&is_fancybox=1":"?is_fancybox=1",$.fancybox.isOpen&&"iframe"!==$.fancybox.opts.type&&(e+="&reopen_fancybox="+encodeURIComponent($.fancybox.opts.href),$.fancybox.close()),i=$(this).data("width")?$(this).data("width"):null,m=$(this).data("height")?$(this).data("height"):null,$.fancybox.open({href:e,type:"iframe",width:i,height:m,iframe:{preload:!1}}),!1}),$(document).on("click",".field.mm-file a.mm-file-remove",function(){return $(this).closest(".field.mm-file").find(".mm-file-preview").html(""),$(this).closest(".field.mm-file").find(".mm-file-value").val(""),$(this).closest(".field.mm-file").find(".mm-file-remove").css("display","none"),!1})},this._callback_form_field_mm=function(e,i,m,n){if(0===e.length)return $("#"+n+" .mm-file-preview").html(""),$("#"+n+" .mm-file-value").val(""),$("#"+n+" .mm-file-remove").css("display","none"),void(m.length&&$.fancybox.open({href:m}));var t=$("#"+n).data("scheme"),a=e.split(".");t=t.replace("{[filename]}",a[0]),t=t.replace("{[extension]}","."+a[1]),$("#"+n+" .mm-file-preview").html('<a href="'+t+'">Download</a>'),$("#"+n+" .mm-file-value").val(i),$("#"+n+" .mm-file-remove").css("display","inline-block"),m.length&&$.fancybox.open({href:m})},this._init_form_field_mm_image=function(){$(document).on("click",".field.mm-image a.mm-image-choose",function(){var e,i,m;return e=$(this).attr("href"),e+=e.indexOf("?")>=0?"&is_fancybox=1":"?is_fancybox=1",$.fancybox.isOpen&&"iframe"!==$.fancybox.opts.type&&(e+="&reopen_fancybox="+encodeURIComponent($.fancybox.opts.href),$.fancybox.close()),i=$(this).data("width")?$(this).data("width"):null,m=$(this).data("height")?$(this).data("height"):null,$.fancybox.open({href:e,type:"iframe",width:i,height:m,iframe:{preload:!1}}),!1}),$(document).on("click",".field.mm-image a.mm-image-remove",function(){return $(this).closest(".field.mm-image").find(".mm-image-preview").html(""),$(this).closest(".field.mm-image").find(".mm-image-value").val(""),$(this).closest(".field.mm-image").find(".mm-image-remove").css("display","none"),!1})},this._callback_form_field_mm_image=function(e,i,m,n){if(0===e.length)return $("#"+n+" .mm-image-preview").html(""),$("#"+n+" .mm-image-value").val(""),$("#"+n+" .mm-image-remove").css("display","none"),void(m.length&&$.fancybox.open({href:m}));var t=$("#"+n).data("scheme"),a=e.split(".");t=t.replace("{[filename]}",a[0]),t=t.replace("{[extension]}","."+a[1]),$("#"+n+" .mm-image-preview").html('<img src="'+t+'" / >'),$("#"+n+" .mm-image-value").val(i),$("#"+n+" .mm-image-remove").css("display","inline-block"),m.length&&$.fancybox.open({href:m})},this._init_form_field_multiimage=function(){},this.__construct()};